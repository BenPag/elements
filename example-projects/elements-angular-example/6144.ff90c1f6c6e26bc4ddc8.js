(self.webpackChunkelements_angular_example=self.webpackChunkelements_angular_example||[]).push([[6144],{1685:(t,e,i)=>{"use strict";i.d(e,{a:()=>n,c:()=>s});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(t,e,i){return t(i={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},i.exports),i.exports}},2047:(t,e,i)=>{"use strict";i.d(e,{c:()=>n});var n=(0,i(1685).c)(function(t){!function(){var e={}.hasOwnProperty;function i(){for(var t=[],n=0;n<arguments.length;n++){var s=arguments[n];if(s){var o=typeof s;if("string"===o||"number"===o)t.push(s);else if(Array.isArray(s)&&s.length){var l=i.apply(null,s);l&&t.push(l)}else if("object"===o)for(var h in s)e.call(s,h)&&s[h]&&t.push(h)}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):window.classNames=i}()})},6144:(t,e,i)=>{"use strict";i.r(e),i.d(e,{ino_autocomplete:()=>h});var n=i(3863),s=i(2047),o=i(3865);i(1685);class l{constructor(){this.timeout=null}debounce(t,e=300){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.timeout=setTimeout(()=>{t(),this.timeout=null},e)}}let h=class{constructor(t){(0,n.r)(this,t),this.valueChange=(0,n.c)(this,"valueChange",7),this.debouncer=new l,this._selectedOptionIndex=-1,this.menuIsVisible=!1,this.noOptionsIsVisible=!1,this.debounceTimeout=300,this.noOptionsText="No Option",this.onEnterPress=()=>{this.onOptionSelect(),this.inputEl.getInputElement().then(o.m)},this.onOptionSelect=()=>{this.selectedOption&&(this.inputChanged(this.selectedOption.innerText),this.emitValueOfSelectedOption(),this.closeMenu())},this.onArrowDownPress=()=>{const t=this.filteredOptionEls.findIndex(t=>{var e;return t.value===(null===(e=this.selectedOption)||void 0===e?void 0:e.value)})+1;this.selectedOptionIndex=this.optionEls.indexOf(this.filteredOptionEls[t>=this.filteredOptionEls.length?0:t])},this.onArrowUpPress=()=>{const t=this.filteredOptionEls.findIndex(t=>{var e;return t.value===(null===(e=this.selectedOption)||void 0===e?void 0:e.value)})-1;this.selectedOptionIndex=this.optionEls.indexOf(this.filteredOptionEls[t<0?this.filteredOptionEls.length-1:t])},this.scroll=t=>{t.preventDefault();const{offsetTop:e,clientHeight:i}=this.selectedOption,{scrollTop:n,clientHeight:s}=this.menuContainer;(e+i/2>n+s||e<n)&&this.menuContainer.scrollTo(0,e)},this.setupInput=()=>{if(this.inputEl=(0,o.g)(this.el,"input"),!this.inputEl)throw new Error('The slot "input" is empty. Please provide an <ino-input> element to that slot.');this.inputEl.value&&console.warn("The value property of the <ino-input> is managed by the <ino-autocomplete> and therefore should not be set manually."),this.inputEl.addEventListener("inoFocus",this.onInoInputFocus),this.inputEl.addEventListener("inoBlur",this.onInoInputBlur),this.menuContainer.style.setProperty("--input-width",window.getComputedStyle(this.inputEl).width),this.setOptionByValue(this.value)},this.onInoInputFocus=()=>{this.inputEl.disabled||this.openMenu()},this.onInoInputBlur=t=>{var e;if(this.isOptionClick(t.detail))return;this.closeMenu();const i=this.optionEls.findIndex(t=>t.innerText.trim()===this.inputEl.value.trim());i!==this.selectedOptionIndex&&(this.selectedOptionIndex=i,this.emitValueOfSelectedOption()),this.inputChanged((null===(e=this.selectedOption)||void 0===e?void 0:e.innerText)||"")},this.isOptionClick=t=>t.relatedTarget&&(t.relatedTarget.matches(".mdc-list-item")||t.relatedTarget.matches("ino-option")),this.emitValueOfSelectedOption=()=>{var t;this.valueChange.emit(null===(t=this.selectedOption)||void 0===t?void 0:t.value)},this.inputChanged=t=>{this.inputEl&&(this.inputEl.value=t||"",this.debouncer.debounce(()=>this.filterOptions(this.inputEl.value),this.debounceTimeout))},this.filterOptions=t=>{this.filteredOptionEls=this.optionEls.filter(e=>{const i=e.innerText.trim().toLowerCase().includes(t.trim().toLowerCase());return e.style.display=i?"block":"none",i}),this.noOptionsIsVisible=0===this.filteredOptionEls.length},this.setupOptions=()=>{this.optionEls=Array.from(this.el.getElementsByTagName("ino-option")),this.filteredOptionEls=this.optionEls,this.setOptionByValue(this.value)},this.setOptionByValue=t=>{var e;this.optionEls&&(this.selectedOptionIndex=this.optionEls.findIndex(e=>e.value===t),this.inputChanged(null===(e=this.selectedOption)||void 0===e?void 0:e.innerText))},this.onListItemClick=t=>{const{parentElement:e}=t.target;if("ino-option"!==e.nodeName.toLowerCase()&&"ino-option"!==e.parentElement.nodeName.toLowerCase())return;const i="ino-option"===e.nodeName.toLowerCase()?e:e.parentElement;this.selectedOptionIndex=this.optionEls.findIndex(t=>t.value===i.value),this.onOptionSelect()},this.openMenu=()=>this.menuIsVisible=!0,this.closeMenu=()=>this.menuIsVisible=!1}set selectedOptionIndex(t){this.selectedOption&&(this.selectedOption.selected=!1),this._selectedOptionIndex=t,this.selectedOption=t>=0?this.optionEls[t]:void 0,this.selectedOption&&(this.selectedOption.selected=!0)}get selectedOptionIndex(){return this._selectedOptionIndex}onValueChange(t,e){t!==e&&this.setOptionByValue(t)}componentDidLoad(){this.setupInput()}disconnectedCallback(){this.inputEl.removeEventListener("inoFocus",this.onInoInputFocus),this.inputEl.removeEventListener("inoBlur",this.onInoInputBlur)}onInoInputValueChange(t){"ino-input"===t.target.tagName.toLowerCase()&&(t.stopImmediatePropagation(),this.inputChanged(t.detail))}onKeyDown(t){if(this.filteredOptionEls&&0!==this.filteredOptionEls.length)switch(this.menuIsVisible||["Enter","Escape","Tab"].includes(t.code)||this.openMenu(),t.code){case"Enter":this.onEnterPress();break;case"ArrowDown":this.openMenu(),this.onArrowDownPress(),this.scroll(t);break;case"ArrowUp":this.openMenu(),this.onArrowUpPress(),this.scroll(t);break;case"Escape":this.closeMenu();break;case"Tab":break;default:this.openMenu()}}render(){const t=(0,s.c)({"no-options-found":this.noOptionsIsVisible,"menu-open":this.menuIsVisible}),e=(0,s.c)({menu:!0,"menu-hidden":!this.menuIsVisible,"menu-shown":this.menuIsVisible});return(0,n.h)(n.H,{class:t},(0,n.h)("slot",{name:"input"}),(0,n.h)("div",{class:e,ref:t=>this.menuContainer=t,onMouseDown:t=>this.onListItemClick(t)},(0,n.h)("div",{class:"mdc-list"},this.noOptionsIsVisible&&(0,n.h)("p",{class:"no-options-text"},this.noOptionsText),(0,n.h)("slot",{onSlotchange:this.setupOptions}))))}get el(){return(0,n.g)(this)}static get watchers(){return{value:["onValueChange"]}}};h.style=":host{position:relative}:host .menu{width:var(--input-width, max-content);max-height:var(--ino-autocomplete-list-max-height, 225px);position:absolute;top:76px;z-index:10;background-color:white;box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);border-bottom-left-radius:5px;border-bottom-right-radius:5px;overflow:auto}:host .menu-hidden{display:none}:host .menu-shown{display:block}:host .no-options-text{padding-left:16px;padding-right:16px;color:#9b9b9b}"}}]);