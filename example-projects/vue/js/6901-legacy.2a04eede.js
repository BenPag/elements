(self["webpackChunkelements_vue_example"]=self["webpackChunkelements_vue_example"]||[]).push([[6901],{16901:function(e,n,t){"use strict";t.r(n),t.d(n,{ino_currency_input:function(){return s}});var i=t(11487),u=t(63758),r=(t(14586),t(71245),t(58188),t(88233),t(26936),t(77950),t(48319),t(85940),t(44112),t(17368),t(28450),t(51172),t(1817)),l=function(){function e(){(0,i.Z)(this,e)}return(0,u.Z)(e,[{key:"get",value:function(e,n){var t=this.storage&&this.storage[e];return null!==t&&void 0!==t?t:n}},{key:"patch",value:function(e,n){this.storage&&this.storage[e]&&(this.storage[e]=n)}},{key:"storage",get:function(){if("undefined"!==typeof window){var e=window.inoElements;if(e&&e.config)return e.config}return null}}]),e}(),o=new l,a="",s=function(){function e(n){var t=this;(0,i.Z)(this,e),(0,r.r)(this,n),this.valueChange=(0,r.c)(this,"valueChange",7),this.defaultLocale="de-DE",this.handleValueChange=function(e){var n=e.detail;n=n?t.fromCurrencyString(n):null,Number.isNaN(n)||(t.hiddenValue=n,t.valueChange.emit(n)),e.stopPropagation()},this.handleFocus=function(){t.inoInputEl.value=t.trimCurrencyString(t.inoInputEl.value)},this.handleBlur=function(){var e=t.hiddenInputEl.value;e&&"null"!=e&&(t.inoInputEl.value=t.toCurrencyString(e))}}return(0,u.Z)(e,[{key:"valueChanged",value:function(e){var n;!e&&0!==e||"null"===e?(this.hiddenValue=null,this.inputValue=null):e!=(null===(n=this.hiddenInputEl)||void 0===n?void 0:n.value)&&(this.hiddenValue=e.toString(),this.inputValue=this.toCurrencyString(e))}},{key:"componentDidLoad",value:function(){var e,n=this;this.inoInputEl=this.el.querySelector("ino-input"),null===(e=this.inoInputEl)||void 0===e||e.setUserInputInterceptor((function(e){return n.trimCurrencyString(e)})),this.inoInputEl||console.error("currency input requires ino-input as child"),"text"!==this.inoInputEl.type&&console.error('currency input has to be of type "text"'),this.initialize()}},{key:"connectedCallback",value:function(){this.initialize()}},{key:"disconnectedCallback",value:function(){var e,n,t;null===(e=this.inoInputEl)||void 0===e||e.removeEventListener("inoFocus",this.handleFocus),null===(n=this.inoInputEl)||void 0===n||n.removeEventListener("inoBlur",this.handleBlur),null===(t=this.inoInputEl)||void 0===t||t.removeEventListener("valueChange",this.handleValueChange)}},{key:"initialize",value:function(){var e,n,t;this.hiddenInputEl&&this.setupHiddenInput(),null===(e=this.inoInputEl)||void 0===e||e.addEventListener("inoFocus",this.handleFocus),null===(n=this.inoInputEl)||void 0===n||n.addEventListener("inoBlur",this.handleBlur),null===(t=this.inoInputEl)||void 0===t||t.addEventListener("valueChange",this.handleValueChange)}},{key:"hiddenValue",set:function(e){this.hiddenInputEl&&(this.hiddenInputEl.value=e)}},{key:"inputValue",set:function(e){this.inoInputEl&&(this.inoInputEl.value=e)}},{key:"setupHiddenInput",value:function(){this.hiddenValue=String(this.value),this.hiddenInputEl.name=this.inoInputEl.name,this.inoInputEl.name=null,this.inoInputEl.resetOnChange=!1,this.hiddenInputEl.min=this.inoInputEl.min,this.hiddenInputEl.max=this.inoInputEl.max,this.hiddenInputEl.disabled=this.inoInputEl.disabled,this.hiddenInputEl.required=this.inoInputEl.required,this.inoInputEl.value=this.toCurrencyString(this.value)}},{key:"getSeperator",value:function(){return this.toCurrencyString(0).charAt(1)}},{key:"toCurrencyString",value:function(e){var n;if(!e&&0!==e)return null;var t=(null===(n=this.currencyLocale)||void 0===n?void 0:n.length)>0?this.currencyLocale:o.get("currencyLocale",this.defaultLocale),i={minimumFractionDigits:2,maximumFractionDigits:2};return Intl.NumberFormat(t,i).format(Number(e))}},{key:"trimCurrencyString",value:function(e){if(!e)return e;var n=this.extractLeadingSymbol(e),t=this.getSeperator(),i=this.removeNonDecimalValues(e).split(t);return e=i[0],i.length>1&&(e+=t+i[1].substring(0,2)),n+e}},{key:"fromCurrencyString",value:function(e){var n=this.extractLeadingSymbol(e),t=this.getSeperator(),i=this.removeNonDecimalValues(e).replace(t,".");return Number(n+i)}},{key:"extractLeadingSymbol",value:function(e){var n,t=null===(n=this.inoInputEl)||void 0===n?void 0:n.min,i=t&&Number(t)>=0;return i?"":e.startsWith("-")?"-":""}},{key:"removeNonDecimalValues",value:function(e){var n=new RegExp("[^".concat(this.getSeperator(),"0-9]"),"g");return e.replace(n,"")}},{key:"render",value:function(){var e=this;return(0,r.h)(r.H,null,(0,r.h)("input",{type:"hidden",ref:function(n){return e.hiddenInputEl=n},value:this.value}),(0,r.h)("slot",null))}},{key:"el",get:function(){return(0,r.g)(this)}}],[{key:"watchers",get:function(){return{value:["valueChanged"]}}}]),e}();s.style=a},17368:function(e,n,t){var i=t(7400),u=t(9859),r=t(46541),l=t(20835),o=t(31787).f,a=t(78151).f,s=t(48311),h=t(30895),c=t(25650),p=t(27487),d=t(24229),v=t(56407).enforce,f=t(71832),g=t(70095),E=g("match"),y=u.RegExp,m=y.prototype,I=/a/g,k=/a/g,x=new y(I)!==I,C=c.UNSUPPORTED_Y,S=i&&r("RegExp",!x||C||d((function(){return k[E]=!1,y(I)!=I||y(k)==k||"/a/i"!=y(I,"i")})));if(S){var b=function(e,n){var t,i=this instanceof b,u=s(e),r=void 0===n;if(!i&&u&&e.constructor===b&&r)return e;x?u&&!r&&(e=e.source):e instanceof b&&(r&&(n=h.call(e)),e=e.source),C&&(t=!!n&&n.indexOf("y")>-1,t&&(n=n.replace(/y/g,"")));var o=l(x?new y(e,n):y(e,n),i?this:m,b);if(C&&t){var a=v(o);a.sticky=!0}return o},R=function(e){e in b||o(b,e,{configurable:!0,get:function(){return y[e]},set:function(n){y[e]=n}})},L=a(y),w=0;while(L.length>w)R(L[w++]);m.constructor=b,b.prototype=m,p(u,"RegExp",b)}f("RegExp")},51172:function(e,n,t){var i=t(7400),u=t(25650).UNSUPPORTED_Y,r=t(31787).f,l=t(56407).get,o=RegExp.prototype;i&&u&&r(RegExp.prototype,"sticky",{configurable:!0,get:function(){if(this!==o){if(this instanceof RegExp)return!!l(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}}})},88233:function(e,n,t){"use strict";var i=t(27487),u=t(21176),r=t(24229),l=t(30895),o="toString",a=RegExp.prototype,s=a[o],h=r((function(){return"/a/b"!=s.call({source:"a",flags:"b"})})),c=s.name!=o;(h||c)&&i(RegExp.prototype,o,(function(){var e=u(this),n=String(e.source),t=e.flags,i=String(void 0===t&&e instanceof RegExp&&!("flags"in a)?l.call(e):t);return"/"+n+"/"+i}),{unsafe:!0})},9441:function(e,n,t){var i=t(47293),u=t(17854),r=u.RegExp;e.exports=i((function(){var e=r(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},28450:function(e,n,t){var i=t(17854),u=t(19781),r=t(9441),l=t(84326),o=t(3070).f,a=t(29909).get,s=RegExp.prototype,h=i.TypeError;u&&r&&o(s,"dotAll",{configurable:!0,get:function(){if(this!==s){if("RegExp"===l(this))return!!a(this).dotAll;throw h("Incompatible receiver, RegExp required")}}})}}]);
//# sourceMappingURL=6901-legacy.2a04eede.js.map