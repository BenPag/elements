(self["webpackChunkelements_vue_example"]=self["webpackChunkelements_vue_example"]||[]).push([[6901],{16901:function(e,t,n){"use strict";n.r(t),n.d(t,{ino_currency_input:function(){return s}});var i=n(11487),r=n(63758),u=(n(14586),n(71245),n(58188),n(88233),n(26936),n(77950),n(48319),n(85940),n(44112),n(17368),n(28450),n(51172),n(67318)),o=function(){function e(){(0,i.Z)(this,e)}return(0,r.Z)(e,[{key:"get",value:function(e,t){var n=this.storage&&this.storage[e];return null!==n&&void 0!==n?n:t}},{key:"patch",value:function(e,t){this.storage&&this.storage[e]&&(this.storage[e]=t)}},{key:"storage",get:function(){if("undefined"!==typeof window){var e=window.inoElements;if(e&&e.config)return e.config}return null}}]),e}(),a=new o,l="",s=function(){function e(t){var n=this;(0,i.Z)(this,e),(0,u.r)(this,t),this.valueChange=(0,u.c)(this,"valueChange",7),this.defaultLocale="de-DE",this.handleValueChange=function(e){var t=e.detail;t=t?n.fromCurrencyString(t):null,Number.isNaN(t)||(n.hiddenValue=t,n.valueChange.emit(t)),e.stopPropagation()},this.handleFocus=function(){n.inoInputEl.value=n.trimCurrencyString(n.inoInputEl.value)},this.handleBlur=function(){var e=n.hiddenInputEl.value;e&&"null"!=e&&(n.inoInputEl.value=n.toCurrencyString(e))}}return(0,r.Z)(e,[{key:"valueChanged",value:function(e){var t;!e&&0!==e||"null"===e?(this.hiddenValue=null,this.inputValue=null):e!=(null===(t=this.hiddenInputEl)||void 0===t?void 0:t.value)&&(this.hiddenValue=e.toString(),this.inputValue=this.toCurrencyString(e))}},{key:"componentDidLoad",value:function(){var e,t=this;this.inoInputEl=this.el.querySelector("ino-input"),null===(e=this.inoInputEl)||void 0===e||e.setUserInputInterceptor((function(e){return t.trimCurrencyString(e)})),this.inoInputEl||console.error("currency input requires ino-input as child"),"text"!==this.inoInputEl.type&&console.error('currency input has to be of type "text"'),this.initialize()}},{key:"connectedCallback",value:function(){this.initialize()}},{key:"disconnectedCallback",value:function(){var e,t,n;null===(e=this.inoInputEl)||void 0===e||e.removeEventListener("inoFocus",this.handleFocus),null===(t=this.inoInputEl)||void 0===t||t.removeEventListener("inoBlur",this.handleBlur),null===(n=this.inoInputEl)||void 0===n||n.removeEventListener("valueChange",this.handleValueChange)}},{key:"initialize",value:function(){var e,t,n;this.hiddenInputEl&&this.setupHiddenInput(),null===(e=this.inoInputEl)||void 0===e||e.addEventListener("inoFocus",this.handleFocus),null===(t=this.inoInputEl)||void 0===t||t.addEventListener("inoBlur",this.handleBlur),null===(n=this.inoInputEl)||void 0===n||n.addEventListener("valueChange",this.handleValueChange)}},{key:"hiddenValue",set:function(e){this.hiddenInputEl&&(this.hiddenInputEl.value=e)}},{key:"inputValue",set:function(e){this.inoInputEl&&(this.inoInputEl.value=e)}},{key:"setupHiddenInput",value:function(){this.hiddenValue=String(this.value),this.hiddenInputEl.name=this.inoInputEl.name,this.inoInputEl.name=null,this.inoInputEl.resetOnChange=!1,this.hiddenInputEl.min=this.inoInputEl.min,this.hiddenInputEl.max=this.inoInputEl.max,this.hiddenInputEl.disabled=this.inoInputEl.disabled,this.hiddenInputEl.required=this.inoInputEl.required,this.inoInputEl.value=this.toCurrencyString(this.value)}},{key:"getSeperator",value:function(){return this.toCurrencyString(0).charAt(1)}},{key:"toCurrencyString",value:function(e){var t;if(!e&&0!==e)return null;var n=(null===(t=this.currencyLocale)||void 0===t?void 0:t.length)>0?this.currencyLocale:a.get("currencyLocale",this.defaultLocale),i={minimumFractionDigits:2,maximumFractionDigits:2};return Intl.NumberFormat(n,i).format(Number(e))}},{key:"trimCurrencyString",value:function(e){if(!e)return e;var t=this.extractLeadingSymbol(e),n=this.getSeperator(),i=this.removeNonDecimalValues(e).split(n);return e=i[0],i.length>1&&(e+=n+i[1].substring(0,2)),t+e}},{key:"fromCurrencyString",value:function(e){var t=this.extractLeadingSymbol(e),n=this.getSeperator(),i=this.removeNonDecimalValues(e).replace(n,".");return Number(t+i)}},{key:"extractLeadingSymbol",value:function(e){var t,n=null===(t=this.inoInputEl)||void 0===t?void 0:t.min,i=n&&Number(n)>=0;return i?"":e.startsWith("-")?"-":""}},{key:"removeNonDecimalValues",value:function(e){var t=new RegExp("[^".concat(this.getSeperator(),"0-9]"),"g");return e.replace(t,"")}},{key:"render",value:function(){var e=this;return(0,u.h)(u.H,null,(0,u.h)("input",{type:"hidden",ref:function(t){return e.hiddenInputEl=t},value:this.value}),(0,u.h)("slot",null))}},{key:"el",get:function(){return(0,u.g)(this)}}],[{key:"watchers",get:function(){return{value:["valueChanged"]}}}]),e}();s.style=l},71245:function(e,t,n){"use strict";var i=n(7400),r=n(9859),u=n(46541),o=n(27487),a=n(50816),l=n(27079),s=n(20835),c=n(92066),h=n(24229),p=n(22391),f=n(78151).f,d=n(97933).f,v=n(31787).f,g=n(1017).trim,E="Number",y=r[E],I=y.prototype,m=l(p(I))==E,N=function(e){var t,n,i,r,u,o,a,l,s=c(e,!1);if("string"==typeof s&&s.length>2)if(s=g(s),t=s.charCodeAt(0),43===t||45===t){if(n=s.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(s.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+s}for(u=s.slice(2),o=u.length,a=0;a<o;a++)if(l=u.charCodeAt(a),l<48||l>r)return NaN;return parseInt(u,i)}return+s};if(u(E,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var k,S=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof S&&(m?h((function(){I.valueOf.call(n)})):l(n)!=E)?s(new y(N(t)),n,S):N(t)},x=i?f(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),C=0;x.length>C;C++)a(y,k=x[C])&&!a(S,k)&&v(S,k,d(y,k));S.prototype=I,I.constructor=S,o(r,E,S)}},14586:function(e,t,n){var i=n(23103);i({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},17368:function(e,t,n){var i=n(7400),r=n(9859),u=n(46541),o=n(20835),a=n(31787).f,l=n(78151).f,s=n(48311),c=n(30895),h=n(25650),p=n(27487),f=n(24229),d=n(56407).enforce,v=n(71832),g=n(70095),E=g("match"),y=r.RegExp,I=y.prototype,m=/a/g,N=/a/g,k=new y(m)!==m,S=h.UNSUPPORTED_Y,x=i&&u("RegExp",!k||S||f((function(){return N[E]=!1,y(m)!=m||y(N)==N||"/a/i"!=y(m,"i")})));if(x){var C=function(e,t){var n,i=this instanceof C,r=s(e),u=void 0===t;if(!i&&r&&e.constructor===C&&u)return e;k?r&&!u&&(e=e.source):e instanceof C&&(u&&(t=c.call(e)),e=e.source),S&&(n=!!t&&t.indexOf("y")>-1,n&&(t=t.replace(/y/g,"")));var a=o(k?new y(e,t):y(e,t),i?this:I,C);if(S&&n){var l=d(a);l.sticky=!0}return a},b=function(e){e in C||a(C,e,{configurable:!0,get:function(){return y[e]},set:function(t){y[e]=t}})},R=l(y),L=0;while(R.length>L)b(R[L++]);I.constructor=C,C.prototype=I,p(r,"RegExp",C)}v("RegExp")},51172:function(e,t,n){var i=n(7400),r=n(25650).UNSUPPORTED_Y,u=n(31787).f,o=n(56407).get,a=RegExp.prototype;i&&r&&u(RegExp.prototype,"sticky",{configurable:!0,get:function(){if(this!==a){if(this instanceof RegExp)return!!o(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}}})},88233:function(e,t,n){"use strict";var i=n(27487),r=n(21176),u=n(24229),o=n(30895),a="toString",l=RegExp.prototype,s=l[a],c=u((function(){return"/a/b"!=s.call({source:"a",flags:"b"})})),h=s.name!=a;(c||h)&&i(RegExp.prototype,a,(function(){var e=r(this),t=String(e.source),n=e.flags,i=String(void 0===n&&e instanceof RegExp&&!("flags"in l)?o.call(e):n);return"/"+t+"/"+i}),{unsafe:!0})},9441:function(e,t,n){var i=n(47293),r=n(17854),u=r.RegExp;e.exports=i((function(){var e=u(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},28450:function(e,t,n){var i=n(17854),r=n(19781),u=n(9441),o=n(84326),a=n(3070).f,l=n(29909).get,s=RegExp.prototype,c=i.TypeError;r&&u&&a(s,"dotAll",{configurable:!0,get:function(){if(this!==s){if("RegExp"===o(this))return!!l(this).dotAll;throw c("Incompatible receiver, RegExp required")}}})}}]);
//# sourceMappingURL=6901-legacy.d0cb1255.js.map