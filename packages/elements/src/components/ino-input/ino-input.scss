@use '@material/textfield/mdc-text-field';
@use '@material/textfield';
@use '@material/textfield/icon';
@use '@material/textfield/helper-text/mdc-text-field-helper-text';
@use '@material/textfield/icon/mdc-text-field-icon';
@use 'styles/colors';
@use 'styles/fonts';

$default-text-field: 'not(.mdc-text-field--outlined):not(.mdc-text-field--textarea)';
$placeholder-color: rgba(0, 0, 0, 0.6);

ino-input {
  display: block;

  @include icon.icon-core-styles;

  & > .ino-input__composer {
    text-align: left;
    width: 100%;
    box-sizing: border-box;
  }

  @include fonts.ino-font(sans-serif, m, regular);


  &:hover {
    @include textfield.fill-color(transparent);
  }

  .mdc-text-field {

    @include textfield.focused-outline-color(colors.ino-color(primary, base));

    &--focused:not(.mdc-text-field--invalid) {
      @include textfield.label-color(colors.ino-color(primary, base));
      @include textfield.caret-color(colors.ino-color(primary, base));
      @include textfield.line-ripple-color(colors.ino-color(primary, base));
      @include icon.leading-icon-color(colors.ino-color(primary, base));
      @include icon.trailing-icon-color(colors.ino-color(primary, base));
    }

    &--disabled {
      background-color: transparent;
    }

    // Adjustments to the new icon font-size
    &--outlined .mdc-text-field__icon {
      bottom: 19px;
    }

    & + .mdc-text-field-helper-line {
      padding: 0;
    }

    // Placeholder color
    &:not(.mdc-text-field--disabled) {
      & input::placeholder {
        color: $placeholder-color;
      }
    }

    &:#{$default-text-field} {
      @include textfield.fill-color(transparent);

      // change background von greyish to transparent
      &:before {
        background-color: transparent;
      }

      &:not([class*='--with-leading-icon']) {
        & .mdc-text-field__input {
          padding-left: 0;
        }
      }

      .mdc-text-field__icon {
        cursor: auto;
        pointer-events: auto;
        bottom: 2px;
      }

      &[class*='--with-leading-icon'] {
        $padding-to-left: 38px;

        input {
          padding-left: $padding-to-left;
        }

        .mdc-floating-label,
        .mdc-floating-label--float-above {
          left: $padding-to-left;
        }
      }

      .mdc-text-field__icon--leading {
        left: 6px;
      }

      .mdc-text-field__icon--trailing {
        right: 6px;
      }

      .mdc-text-field__input {
        padding-bottom: 0;
        padding-top: 20px;
      }
    }

    .mdc-text-field__icon {
      font-size: 20px;
      top: 61%;

      &.unit {
        font-size: 16px;
      }
    }
  }
}
